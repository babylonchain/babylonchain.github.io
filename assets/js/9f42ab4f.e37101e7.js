"use strict";(self.webpackChunkdocument_sample=self.webpackChunkdocument_sample||[]).push([[5920],{3905:(t,e,n)=>{n.d(e,{Zo:()=>p,kt:()=>u});var a=n(67294);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r(t,e){if(null==t)return{};var n,a,i=function(t,e){if(null==t)return{};var n,a,i={},o=Object.keys(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var c=a.createContext({}),l=function(t){var e=a.useContext(c),n=e;return t&&(n="function"==typeof t?t(e):s(s({},e),t)),n},p=function(t){var e=l(t.components);return a.createElement(c.Provider,{value:e},t.children)},h={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},m=a.forwardRef((function(t,e){var n=t.components,i=t.mdxType,o=t.originalType,c=t.parentName,p=r(t,["components","mdxType","originalType","parentName"]),m=l(n),u=i,d=m["".concat(c,".").concat(u)]||m[u]||h[u]||o;return n?a.createElement(d,s(s({ref:e},p),{},{components:n})):a.createElement(d,s({ref:e},p))}));function u(t,e){var n=arguments,i=e&&e.mdxType;if("string"==typeof t||i){var o=n.length,s=new Array(o);s[0]=m;var r={};for(var c in e)hasOwnProperty.call(e,c)&&(r[c]=e[c]);r.originalType=t,r.mdxType="string"==typeof t?t:i,s[1]=r;for(var l=2;l<o;l++)s[l]=n[l];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},24800:(t,e,n)=>{n.d(e,{Z:()=>s});var a,i=n(67294);function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},o.apply(this,arguments)}const s=t=>{let{title:e,titleId:n,...s}=t;return i.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 1024 1024",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),e?i.createElement("title",{id:n},e):null,a||(a=i.createElement("path",{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0 0 12.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0 0 12.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 0 0 174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z",stroke:"none"})))}},97252:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>m,frontMatter:()=>s,metadata:()=>c,toc:()=>p});var a=n(87462),i=(n(67294),n(3905)),o=n(24800);const s={id:"btc-timestamping",sidebar_label:"Bitcoin Timestamping",hide_table_of_contents:!0},r="Bitcoin Timestamping",c={unversionedId:"introduction/btc-timestamping",id:"introduction/btc-timestamping",title:"Bitcoin Timestamping",description:"The Babylon BTC timestamping protocol allows any arbitrary",source:"@site/docs/introduction/btc-timestamping.md",sourceDirName:"introduction",slug:"/introduction/btc-timestamping",permalink:"/docs/introduction/btc-timestamping",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/introduction/btc-timestamping.md",tags:[],version:"current",frontMatter:{id:"btc-timestamping",sidebar_label:"Bitcoin Timestamping",hide_table_of_contents:!0},sidebar:"docs",previous:{title:"Babylon Overview",permalink:"/docs/introduction/babylon-overview"},next:{title:"Bitcoin Staking",permalink:"/docs/introduction/btc-staking"}},l={},p=[{value:'Long-Range Attack: A Fundamental Threat to PoS Chains <a id="long"></a>',id:"long-range-attack-a-fundamental-threat-to-pos-chains-",level:2},{value:'Secure PoS using BTC timestamping <a id="time"></a>',id:"secure-pos-using-btc-timestamping-",level:2},{value:'Benefits of BTC Timestamping to PoS Chains <a id="benefit"></a>',id:"benefits-of-btc-timestamping-to-pos-chains-",level:2}],h={toc:p};function m(t){let{components:e,...s}=t;return(0,i.kt)("wrapper",(0,a.Z)({},h,s,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"bitcoin-timestamping"},"Bitcoin Timestamping"),(0,i.kt)("p",null,"The Babylon BTC timestamping protocol allows any arbitrary\ndata submitted to Babylon to obtain Bitcoin timestamps.\nThe security level of these timestamps in terms of immutability\nincreases over time because more works are added on top of them over time.\nA primary use case of this protocol is to timestamp PoS blockchains\nto enhance their integrity and security,\nsuch as resisting against long range attacks.\nThe protocol includes Bitcoin as the timestamping service,\nthe Babylon blockchain as the checkpoint aggregation and\ndata availability service, and\nother PoS blockchains as the consumers of security."),(0,i.kt)("p",null,"Such security enables several use cases:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Fast Unbonding:")," PoS blockchains require social consensus to\ncircumvent long range attacks and this leads to\nlong unbonding periods.\nBitcoin security replaces social consensus and\nreduces unbonding periods to a few hours."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bootstrapping new zones:")," Bitcoin security can be used to\nbootstrap new zones which have low token valuation."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Protecting important transactions:")," Bitcoin security can be\nused to protect important transactions while\nnormal transactions get fast finality."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Censorship resistance:")," Transactions that are censored\ncan use Babylon as a backup to enter the ledger."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bitcoin staking:")," Bitcoin timestamping protocol serves\nas a building block for our\n",(0,i.kt)("a",{parentName:"li",href:"/docs/introduction/btc-staking"},"Bitcoin staking protocol"),",\nbecause it provides synchronization between PoS blockchains and Bitcoin.")),(0,i.kt)("p",null,"In addition, via CosmWasm, one can develop timestamping services with any\ndata verification rules."),(0,i.kt)("div",{class:"pdf-file-banner"},(0,i.kt)("a",{class:"link",target:"_blank",href:"https://arxiv.org/pdf/2207.08392.pdf"},(0,i.kt)("div",{class:"icon-holder"},(0,i.kt)(o.Z,{class:"icon",alt:"paper clip",mdxType:"Paperclip"})),(0,i.kt)("div",{class:"info"},(0,i.kt)("p",{class:"title"},"BTC timestamping whitepaper"),(0,i.kt)("p",{class:"subtitle"},"PDF")),(0,i.kt)("p",{class:"size"},"1.1MB"))),(0,i.kt)("p",null,"In the following, we explore the BTC Timestamping Protocol's use case in\ndetail."),(0,i.kt)("h2",{id:"long-range-attack-a-fundamental-threat-to-pos-chains-"},"Long-Range Attack: A Fundamental Threat to PoS Chains ",(0,i.kt)("a",{id:"long"})),(0,i.kt)("p",null,"By PoS chains, we refer to BFT (Byzantine-fault-tolerent) PoS chains that\nrequire a 2/3 majority vote from their validators to confirm a block.\nPoS chains are not supposed to fork, and when forking happens,\nthe chain is attacked:\nTo have 2/3 majority vote for both forks,\nat least 1/3 of the validators have double-voted by signing both forks,\nwhich is a prohibited behavior by the consensus protocol."),(0,i.kt)("p",null,"The picture below illustrates a forking attack to a hypothetical\nPoS chain called ",(0,i.kt)("strong",{parentName:"p"},"\u201cRugpull\u201c"),"."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Forking Attack",src:n(3924).Z,width:"2120",height:"759"})),(0,i.kt)("p",null,"To deter such attacks, most PoS chains only allow accounts who have\nbonded their tokens (a.k.a staking) to be validators.\nThis way, if a validator is caught double signing,\nits bonded stake can be slashed by the consensus protocol in both forks,\ncausing total economical loss to this malicious validator."),(0,i.kt)("p",null,"This deterrence seems to provide slashable security to PoS chains.\nHowever, this requires the remaining validators to perceive both forks\nwhile the malicious validators are still bonded.\nTherefore, to avoid slashing, the malicious validators can first unbond\nfrom the first fork and then create the second fork from a block height\nwhere they are still validators.\nThis way, the malicious validators will not be slashable in\nthe first fork since they do not have a bonded stake.\nWhat\u2019s even worse is that once the attack happens,\nnew users of the PoS chain cannot tell which fork they should follow."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Long-range Attack",src:n(48502).Z,width:"1729",height:"531"})),(0,i.kt)("p",null,"This attack is called the long-range attack,\nwhich renders PoS chains not slashable and secure.\nThis attack is fundamental and cannot be solved by modifying the\nconsensus protocol without an extra source of trust.\nTo alleviate this threat, some PoS chains resort to social consensus,\nwhere the stakeholders periodically make off-chain decisions on the\ncorrect block at the latest height and ignore any other potential forks.\nHowever, this approach ties the chain's security to the\nparticipating stakeholders' subjective opinions.\nThis approach is also called weak subjectivity,\nwhich is against the decentralization principle.\nIn addition, since social consensus takes time,\nmost PoS chains impose a very long stake unbonding time in\nthe order of weeks."),(0,i.kt)("h2",{id:"secure-pos-using-btc-timestamping-"},"Secure PoS using BTC timestamping ",(0,i.kt)("a",{id:"time"})),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Secure PoS",src:n(48212).Z,width:"5351",height:"1914"})),(0,i.kt)("p",null,"To protect the PoS chain from long-range attacks,\nwe can checkpoint the PoS chain's blocks to BTC and\nimplement a fork choice rule for the fork with\nan earlier BTC timestamp. This way, either"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"The attacking fork will have a later BTC timestamp in the\nBTC canonical chain and will never be chosen by anyone, or")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"In order to be chosen, the attacker will have to create a very long fork\nof BTC in which the attacking PoS fork has an earlier timestamp,\nwhich is economically impossible."))),(0,i.kt)("p",null,"Thus, long-range attacks are neutralized by BTC timestamping."),(0,i.kt)("h2",{id:"benefits-of-btc-timestamping-to-pos-chains-"},"Benefits of BTC Timestamping to PoS Chains ",(0,i.kt)("a",{id:"benefit"})),(0,i.kt)("p",null,"Along with solving long-range attacks,\nthe irreversible BTC timestamps of PoS blocks also\nprovide other security benefits to PoS chains:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"No weak subjectivity"),": Bitcoin timestamps are objective.\nIt can thus eliminate the dependency of PoS chains on social consensus and\nweak subjectivity.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Shorter Unbonding Time"),": By replacing social consensus,\nBTC timestamping can reduce the stake unbonding time of\nPoS chains from weeks to one day.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"New Chain Bootstrapping"),": New PoS chains with low valuation\nare more vulnerable to forking attacks.\nBTC timestamping can help safeguard the chain alone its growth.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Verification of State Sync and Snapshots"),": The objective truth about\na PoS chain provided by BTC allows the users of the PoS chain to verify\nthe chain state or snapshot it has downloaded from the P2P network.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Protecting Important Transactions"),": BTC timestamps can be used to\nfurther confirm important PoS transactions at the cost of\nlonger confirmation latency.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Censorship Resistance"),": BTC timestamping could also be used to fight\nagainst transaction censorship in PoS chains via\nposting censored transactions to BTC."))),(0,i.kt)("p",null,"However, directly checkpointing to BTC is difficult and unscalable due to\nBTC\u2019s tight space and expensive transaction fees.\nMoreover, BTC cannot verify the checkpointed data.\nThis motivates the creation of Babylon,\nwhich solves all the difficulties with provable security."),(0,i.kt)("admonition",{title:"Note",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Without ",(0,i.kt)("strong",{parentName:"p"},"Babylon"),", it is difficult for any chain to directly checkpoint\nto ",(0,i.kt)("strong",{parentName:"p"},"Bitcoin")," due to scalability, cost, code modification, and\nsecurity problems.")))}m.isMDXComponent=!0},48212:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/HowUseCase-9eca05d99ca42eb4e0b5ee74c354176c.png"},3924:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/forking-fab24bb6a9d33c7612ea8bd4d77168b4.gif"},48502:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/longrange-1f85015a2f2c1ecd96d022ceaf8b0232.gif"}}]);